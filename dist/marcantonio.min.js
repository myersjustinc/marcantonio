/*! Marcantonio.js - v0.1.0 - 2012-11-14
 * https://github.com/myersjustinc/marcantonio
 * Copyright (c) 2012 Justin Myers; Licensed BSD */
(function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.R=e.Raphael,t.valueKey="marcantonio-value"})(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.Drawing=function(r){var i=this,s;if(typeof r=="string")s=e.document.getElementById(r);else if(typeof r.append=="function")s=r[0];else{if(typeof r.nodeName!="string")throw new Error("Invalid argument for Drawing container");s=r}this.paper=t.R(s);var o={};this.addView=function(n,r){return o[n]&&o[n].destroy(),o[n]=new t.View(i,r),o[n]},this.getView=function(t){return o[t]},this.hideAllViews=function(){for(var t in o)o.hasOwnProperty(t)&&o[t].hide()},this.showView=function(t){if(!o[t])return;i.hideAllViews(),o[t].show()}}}(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.View=function(n,r){r=r||{},n.hideAllViews();var i=this;this.areas={};for(var s in r)r.hasOwnProperty(s)&&(this.areas[s]=new t.Area(n,s,r[s]));this.hide=function(){for(var t in i.areas)i.areas.hasOwnProperty(t)&&i.areas[t].element.hide()},this.show=function(){for(var t in i.areas)i.areas.hasOwnProperty(t)&&i.areas[t].element.show()},this.destroy=function(){for(var t in i.areas)i.areas.hasOwnProperty(t)&&i.areas[t].element.remove()},this.setColors=function(t){for(var n in i.areas)if(i.areas.hasOwnProperty(n)){var r=i.areas[n];r.setFill(t(r))}},this.setStrokes=function(t){for(var n in i.areas)if(i.areas.hasOwnProperty(n)){var r=i.areas[n];r.setStroke(t(r))}},this.addEvents=function(t,n){for(var r in i.areas)if(i.areas.hasOwnProperty(r)){var s=i.areas[r];s.addEvent(t,n)}},this.removeEvents=function(t){for(var n in i.areas)if(i.areas.hasOwnProperty(n)){var r=i.areas[n];r.removeEvent(t)}}}}(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.Area=function(t,n,r){var i=this;this.element=t.paper.path(r),this.name=n,this.getFill=function(){return i.element.attr("fill")},this.setFill=function(t){i.element.attr("fill",t)},this.getStroke=function(){return i.element.attr("stroke")},this.setStroke=function(t){i.element.attr("stroke",t)};var s={};this.addEvent=function(t,n){s[t]||(s[t]=[]);var r=function(e){n.call(i,i,e)};s[t].push(r);for(var o=0,u=s[t].length;o<u;o++){var a=s[t][o];i.element["un"+t](a),i.element[t](a)}},this.removeEvent=function(t){if(!s[t])return;for(var n=0,r=s[t].length;n<r;n++){var o=s[t][n];i.element["un"+t](o)}s[t]=s[t].splice(s[t].length)}}}(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.Area.prototype.data=function(){return this.element.data.apply(this.element,arguments)},t.Area.prototype.removeData=function(){return this.element.removeData.apply(this.element,arguments)},t.Area.prototype.setValue=function(n){this.data(t.valueKey,n)},t.Area.prototype.unsetValue=function(n){this.removeData(t.valueKey)},t.Area.prototype.getValue=function(){return this.data(t.valueKey)},t.View.prototype.setValues=function(t){for(var n in this.areas)if(this.areas.hasOwnProperty(n)){var r=this.areas[n];r.setValue(t[n])}},t.View.prototype.unsetValues=function(t){for(var n in this.areas)if(this.areas.hasOwnProperty(n)){var r=this.areas[n];r.unsetValue()}},t.View.prototype.getValues=function(){var t={};for(var n in this.areas)if(this.areas.hasOwnProperty(n)){var r=this.areas[n];t[n]=r.getValue()}return t}}(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.tooltips={elementId:"marcantonio-tooltip",positionTooltip:function(n,r){var i=document.getElementById(t.tooltips.elementId);i&&r&&(i.style.position="absolute",i.style.top=r.clientY+5+"px",i.style.left=r.clientX+5+"px")},removeTooltip:function(){var n=document.getElementById(t.tooltips.elementId);n&&document.body.removeChild(n)},renderTooltip:function(n){t.tooltips.removeTooltip();var r=document.createDocumentFragment(),i=document.createElement("div");i.setAttribute("id",t.tooltips.elementId),n&&(i.innerHTML=n,r.appendChild(i),document.body.appendChild(r),t.tooltips.positionTooltip())}},t.View.prototype.addTooltips=function(n){var r=function(r){t.tooltips.renderTooltip(n(r))};this.addEvents("mouseover",r),this.addEvents("mousemove",t.tooltips.positionTooltip),this.addEvents("mouseout",t.tooltips.removeTooltip)},t.View.prototype.removeTooltips=function(){this.removeEvents("mouseover"),this.removeEvents("mousemove"),this.removeEvents("mouseout")}}(this);