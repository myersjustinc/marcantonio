(function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.R=e.Raphael,t.valueKey="marcantonio-value"})(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.Drawing=function(r){var o,a=this;if("string"==typeof r)o=e.document.getElementById(r);else if("function"==typeof r.append)o=r[0];else{if("string"!=typeof r.nodeName)throw Error("Invalid argument for Drawing container");o=r}this.paper=t.R(o);var n={};this.addView=function(e,r){return n[e]&&n[e].destroy(),n[e]=new t.View(a,r),n[e]},this.getView=function(e){return n[e]},this.hideAllViews=function(){for(var e in n)n.hasOwnProperty(e)&&n[e].hide()},this.showView=function(e){n[e]&&(a.hideAllViews(),n[e].show())}}}(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.View=function(e,r){r=r||{},e.hideAllViews();var o=this;this.areas={};for(var a in r)r.hasOwnProperty(a)&&(this.areas[a]=new t.Area(e,a,r[a]));this.hide=function(){for(var e in o.areas)o.areas.hasOwnProperty(e)&&o.areas[e].element.hide()},this.show=function(){for(var e in o.areas)o.areas.hasOwnProperty(e)&&o.areas[e].element.show()},this.destroy=function(){for(var e in o.areas)o.areas.hasOwnProperty(e)&&o.areas[e].element.remove()},this.setColors=function(e){for(var t in o.areas)if(o.areas.hasOwnProperty(t)){var r=o.areas[t];r.setFill(e(r))}},this.setStrokes=function(e){for(var t in o.areas)if(o.areas.hasOwnProperty(t)){var r=o.areas[t];r.setStroke(e(r))}},this.addEvents=function(e,t){for(var r in o.areas)if(o.areas.hasOwnProperty(r)){var a=o.areas[r];a.addEvent(e,t)}},this.removeEvents=function(e){for(var t in o.areas)if(o.areas.hasOwnProperty(t)){var r=o.areas[t];r.removeEvent(e)}}}}(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.Area=function(e,t,r){var o=this;this.element=e.paper.path(r),this.name=t,this.getFill=function(){return o.element.attr("fill")},this.setFill=function(e){o.element.attr("fill",e)},this.getStroke=function(){return o.element.attr("stroke")},this.setStroke=function(e){o.element.attr("stroke",e)};var a={};this.addEvent=function(e,t){a[e]||(a[e]=[]);var r=function(e){t.call(o,o,e)};a[e].push(r);for(var n=0,i=a[e].length;i>n;n++){var s=a[e][n];o.element["un"+e](s),o.element[e](s)}},this.removeEvent=function(e){if(a[e]){for(var t=0,r=a[e].length;r>t;t++){var n=a[e][t];o.element["un"+e](n)}a[e]=a[e].splice(a[e].length)}}}}(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.Area.prototype.data=function(){return this.element.data.apply(this.element,arguments)},t.Area.prototype.removeData=function(){return this.element.removeData.apply(this.element,arguments)},t.Area.prototype.setValue=function(e){this.data(t.valueKey,e)},t.Area.prototype.unsetValue=function(){this.removeData(t.valueKey)},t.Area.prototype.getValue=function(){return this.data(t.valueKey)},t.View.prototype.setValues=function(e){for(var t in this.areas)if(this.areas.hasOwnProperty(t)){var r=this.areas[t];r.setValue(e[t])}},t.View.prototype.unsetValues=function(){for(var e in this.areas)if(this.areas.hasOwnProperty(e)){var t=this.areas[e];t.unsetValue()}},t.View.prototype.getValues=function(){var e={};for(var t in this.areas)if(this.areas.hasOwnProperty(t)){var r=this.areas[t];e[t]=r.getValue()}return e}}(this),function(e){"use strict";var t=e.Marc||{};e.Marc=t,t.tooltips={elementId:"marcantonio-tooltip",positionTooltip:function(r,o){var a=document.getElementById(t.tooltips.elementId),n=e.document.getElementsByTagName("body")[0];if(a&&o){a.style.position="absolute";var i=a.offsetHeight,s=a.offsetWidth,l=n.offsetHeight,u=n.offsetWidth;a.style.top=o.clientY+5+i>l?o.clientY-i-5+"px":o.clientY+5+"px",a.style.left=o.clientX+5+s>u?o.clientX-s-5+"px":o.clientX+5+"px"}},removeTooltip:function(){var e=document.getElementById(t.tooltips.elementId);e&&document.body.removeChild(e)},renderTooltip:function(e,r){t.tooltips.removeTooltip();var o=document.createDocumentFragment(),a=document.createElement("div");a.setAttribute("id",t.tooltips.elementId),e&&(a.innerHTML=e,o.appendChild(a),document.body.appendChild(o),t.tooltips.positionTooltip(null,r))}},t.View.prototype.addTooltips=function(e){var r=function r(r,o){t.tooltips.renderTooltip(e(r),o)};this.addEvents("mouseover",r),this.addEvents("mousemove",t.tooltips.positionTooltip),this.addEvents("mouseout",t.tooltips.removeTooltip)},t.View.prototype.removeTooltips=function(){this.removeEvents("mouseover"),this.removeEvents("mousemove"),this.removeEvents("mouseout")}}(this);